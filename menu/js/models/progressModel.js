define([],function(){class t extends Backbone.Model{defaults(){return{_isActive:!1,_items:null,_itemActive:null}}initialize(){this.get("_items").each((t,e)=>{t.set("_index",e),t.set("_num",e+1)}),this.setActiveItem(0),this.setupEventListeners()}setupEventListeners(){this.listenTo(this,{"change:_isActive":this.onActiveChange}),this.listenTo(this.get("_items"),{"change:_isActive":this.onItemActiveChange})}onActiveChange(t,e){e&&((e=this.getActiveItem()).set("_isActive",!1),e.set("_isActive",!0))}onItemActiveChange(e,t){t&&(this.set("_itemActive",e),this.get("_items").each(t=>{t!==e&&t.set("_isActive",!1)}),this.set("_isActive",!0))}setActiveItemPrev(){var t=this.getActiveItem();t?this.setActiveItem(t.get("_index")-1):this.setActiveItem(0)}setActiveItemNext(){var t=this.getActiveItem();t?this.setActiveItem(t.get("_index")+1):this.setActiveItem(0)}setActiveItem(t){var e=this.get("_items");let i=t;(i=i<0?0:i)>e.length-1&&(i=e.length-1),e.models[i].set("_isActive",!0)}setActive(){this.set("_isActive",!0)}getActiveItem(){return this.get("_items").find(t=>t.get("_isActive"))||this.get("_itemActive")}getActiveItemIdx(){return this.getActiveItem()?.get("_index")||0}getItemCount(){return this.get("_items").length}}return t});