define(["./models/headerModel","./views/headerView","./models/menuModel","./views/menuView","./models/iframeModel","./views/iframeView","./models/footerModel","./views/footerView","./views/wrapperView"],function(e,i,d,s,r,t,a,o,l){class n extends Backbone.Router{initialize(){(Hybrid.router=this).setupModels(),this.render(),this.setupMessageListener(),Backbone.history.start()}setupMessageListener(){window.addEventListener("message",this.onWindowMessage.bind(this))}onWindowMessage(e){var i=e.data.message;let d=e.data.data;switch(i){case"hyb-block-nav":var s=Hybrid.slides.find(e=>e.get("_id")==d._id);s.set("_isActive",!1),s.set("_isActive",!0);break;case"hyb-block-complete":s=Hybrid.slides.find(e=>e.get("_id")==d._id);s&&s.set("_isComplete",!0);break;case"hyb-page-ready":this._wrapper.resize();s=Hybrid.footerModel.getActiveContent();s.set("_isActive",!1),s.set("_isActive",!0);break;case"loading:start":$("html").toggleClass("is-loading",!0);break;case"loading:end":$("html").toggleClass("is-loading",!1)}}routes(){return{"":"index","*path":"handleRoute"}}setupModels(){Hybrid.menuModel=new d,Hybrid.iframeModel=new r,Hybrid.headerModel=new e,Hybrid.footerModel=new a,Hybrid.wrapperModel=new Backbone.Model({_scale:1}),Hybrid.getMenuScale=()=>Hybrid.wrapperModel.get("_scale")}render(){new s({model:Hybrid.menuModel,el:$("#menu")}),new i({model:Hybrid.headerModel,el:$("#header")}),new o({model:Hybrid.footerModel,el:$("#footer")}),this._wrapper=new l({model:Hybrid.wrapperModel,el:$("#wrapper")}),_.delay(()=>{new t({model:Hybrid.iframeModel,el:$("#iframe")}),Hybrid.setReadyStatus()},0)}index(){Hybrid.slides.first().activate()}handleRoute(...i){i=i.filter(e=>null!==e);var e=Hybrid.slides.find(e=>e.get("_id")==i[0]);e?e.activate():this.index()}}return n});